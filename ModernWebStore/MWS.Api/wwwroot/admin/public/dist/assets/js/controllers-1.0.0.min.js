!function(){"use strict";function a(a){function b(){}b()}angular.module("mwa").controller("HomeCtrl",a),a.$inject=["$scope"]}(),function(){"use strict";function a(a,b,c,d){function e(){}function f(){function e(d){b.user=g.login.email,b.token=d.access_token,sessionStorage.setItem(c.AUTH_TOKEN,d.access_token),sessionStorage.setItem(c.AUTH_USER,b.user),a.path("/")}function f(a){toastr.error(a.data.error_description,"Falha na autenticação")}d.login(g.login).success(e)["catch"](f)}var g=this;g.login={email:"",password:""},g.submit=f,e()}angular.module("mwa").controller("LoginCtrl",a),a.$inject=["$location","$rootScope","SETTINGS","AccountFactory"]}(),function(){"use strict";function a(a,b,c){function d(){a.user=null,a.token=null,sessionStorage.removeItem(c.AUTH_TOKEN),sessionStorage.removeItem(c.AUTH_USER),b.path("/login")}d()}angular.module("mwa").controller("LogoutCtrl",a),a.$inject=["$rootScope","$location","SETTINGS"]}(),function(){"use strict";function a(a){function b(){c()}function c(){function b(a){k.categories=a}function c(a){console.log(a),401==a.status?toastr.error("Você não tem permissão para ver esta página","Requisição não autorizada"):toastr.error("Sua requisição não pode ser processada","Falha na Requisição")}a.get().success(b)["catch"](c)}function d(){0==k.category.id?e():f()}function e(){function b(a){k.categories.push(a)}function c(a){toastr.error("Sua requisição não pode ser processada","Falha na Requisição")}a.post(k.category).success(b)["catch"](c),j()}function f(){function b(a){toastr.success("Categoria <strong>"+a.title+"</strong> alterada com sucesso.","Sucesso")}function c(a){toastr.error("Sua requisição não pode ser processada","Falha na Requisição")}a.put(k.category).success(b)["catch"](c),j()}function g(b){function c(a){toastr.success("Categoria <strong>"+a.title+"</strong> removida com sucesso.","Sucesso");var c=k.categories.indexOf(b);k.categories.splice(c,1)}function d(a){toastr.error("Sua requisição não pode ser processada","Falha na Requisição")}h(b),a.remove(k.category).success(c)["catch"](d),j()}function h(a){k.category=a}function i(){j()}function j(){k.category={id:0,title:""}}var k=this;k.categories=[],k.category={id:0,title:""},k.saveCategory=d,k.loadCategory=h,k.removeCategory=g,k.cancel=i,b()}angular.module("mwa").controller("CategoryCtrl",a),a.$inject=["CategoryFactory"]}(),function(){"use strict";function a(a){function b(){c()}function c(){function b(a){d.products=a}function c(a){toastr.error("Sua requisição não pode ser processada","Falha na Requisição")}a.get().success(b)["catch"](c)}var d=this;d.products=[],b()}angular.module("mwa").controller("ProductListCtrl",a),a.$inject=["ProductFactory"]}(),function(){"use strict";function a(a,b,c,d){function e(){f()}function f(){function a(a){h.categories=a}function b(a){console.log(a),401==a.status?toastr.error("Você não tem permissão para ver esta página","Requisição não autorizada"):toastr.error("Sua requisição não pode ser processada","Falha na Requisição")}d.get().success(a)["catch"](b)}function g(){function a(a){toastr.success("Produto <strong>"+a.title+"</strong> cadastrado com sucesso","Produto Cadastrado"),b.path("/products")}function d(a){401==a.status?toastr.error("Você não tem permissão para ver esta página","Requisição não autorizada"):toastr.error("Sua requisição não pode ser processada","Falha na Requisição")}c.post(h.product).success(a)["catch"](d)}var h=this;h.categories=[],h.product={title:"",category:0,description:"",price:0,image:"",quantityOnHand:0},h.croppedImage="",h.save=g,e();var i=function(b){var c=b.currentTarget.files[0],d=new FileReader;d.onload=function(b){a.$apply(function(a){h.product.image=b.target.result})},d.readAsDataURL(c)};angular.element(document.querySelector("#file")).on("change",i)}angular.module("mwa").controller("ProductCreateCtrl",a),a.$inject=["$scope","$location","ProductFactory","CategoryFactory"]}(),function(){"use strict";function a(a,b){function c(){d()}function d(){function a(a){e.product=a}function c(a){toastr.error("Sua requisição não pode ser processada","Falha na Requisição")}b.getById(f).success(a)["catch"](c)}var e=this,f=a.id;e.product={},c()}angular.module("mwa").controller("ProductEditCtrl",a),a.$inject=["$routeParams","ProductFactory"]}();